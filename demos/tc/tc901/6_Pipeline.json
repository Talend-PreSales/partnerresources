{"dependencies":[{"componentId":"60f513a9e6e3e30c78f24710","datasetReferences":[{"initialDatasetId":"7f556aa9-9527-4a41-98fb-a35f67c096bd","datasetName":"tds-dataset-c63f4f576013dcdcc4b243641b1eb3b59","datasetType":"ZGF0YS1zdGV3YXJkc2hpcCNEYXRhU3Rld2FyZHNoaXAjZGF0YXNldCNEU0RhdGFzZXQ"}],"datastoreReferences":[{"initialDatastoreId":"131b3a9b-799d-4bfc-80c1-6e5f90389872","datastoreName":"tds-connection-8d724781-23f9-4b3f-b7df-0acbaace7b31","datastoreType":"ZGF0YS1zdGV3YXJkc2hpcCNEYXRhU3Rld2FyZHNoaXAjZGF0YXN0b3JlI0RTRGF0YVN0b3Jl"}]}],"userFlow":{"id":"a1f84697-c747-4d9f-9f6a-dccd69793b98","created":1620715494133,"updated":1626809152362,"enabled":true,"type":"empty","step":"error","label":"[C360] Operationalization and Matching SAVE","description":"Pipeline generated from dataset 'Customers ERP'","version":356,"datasetIds":["7f556aa9-9527-4a41-98fb-a35f67c096bd"],"datastoreIds":["131b3a9b-799d-4bfc-80c1-6e5f90389872"],"pipelines":[{"components":[{"id":"60f506667a6fac2645b3024c","type":"create-new-element","graphicalAttributes":{"position":{"x":1640,"y":0},"nodeSize":{"width":160,"height":80},"nodeType":"create-new-element","label":"","description":"","properties":{}},"data":{"properties":{}}},{"id":"ce055965-3e4b-4925-8998-5ada3a094b42","type":"cHJvY2Vzc2luZy1iZWFtI1Byb2Nlc3NpbmcjRmlsdGVy","graphicalAttributes":{"position":{"x":1360,"y":0},"nodeSize":{"width":160,"height":80},"nodeType":"processor","label":"","description":"","properties":{"icon":"filter-row"}},"data":{"properties":{"configuration":{"filters":[{"value":"false","function":"EMPTY","operator":"EQUAL","columnName":".IS_DUPLICATE","$function_name":"None","$columnName_name":".IS_DUPLICATE"}],"logicalOpType":"ALL"},"$componentMetadata":{"name":"Triage Records","type":"Filter","version":1,"description":"","technicalType":"processing-beam#Processing#Filter"}}}},{"id":"99b2eded-1779-4bcd-bbdf-046b5d25bbca","type":"cHJvY2Vzc2luZy1iZWFtI1Byb2Nlc3NpbmcjQWdncmVnYXRl","graphicalAttributes":{"position":{"x":800,"y":0},"nodeSize":{"width":160,"height":80},"nodeType":"processor","label":"","description":"","properties":{"icon":"aggregate"}},"data":{"properties":{"configuration":{"groupBy":[{"isClosed":true,"fieldPath":".Lastname","$fieldPath_name":".Lastname"},{"fieldPath":".Firstname","$fieldPath_name":".Firstname"}],"operations":[{"isClosed":true,"fieldPath":".Phone","operation":"LIST","$fieldPath_name":".Phone","$operation_name":"List"},{"isClosed":true,"fieldPath":".Country","operation":"LIST","$fieldPath_name":".Country","$operation_name":"List"},{"isClosed":true,"fieldPath":".ZipCode","operation":"LIST","$fieldPath_name":".ZipCode","$operation_name":"List"},{"isClosed":true,"fieldPath":".Loyalty","operation":"LIST","$fieldPath_name":".Loyalty","$operation_name":"List"},{"isClosed":true,"fieldPath":".Date","operation":"LIST","$fieldPath_name":".Date","$operation_name":"List"},{"fieldPath":".HouseholdDescription","operation":"LIST","$fieldPath_name":".HouseholdDescription","$operation_name":"List"}]},"$componentMetadata":{"name":"Aggregate by Name","type":"Aggregate","version":1,"description":"","technicalType":"processing-beam#Processing#Aggregate"}}}},{"id":"555ab821-887a-4594-a4fb-0b1472c25e31","type":"cHJvY2Vzc2luZy1iZWFtI1Byb2Nlc3NpbmcjUHl0aG9u","graphicalAttributes":{"position":{"x":1080,"y":0},"nodeSize":{"width":160,"height":80},"nodeType":"processor","label":"","description":"","properties":{"icon":"python"}},"data":{"properties":{"configuration":{"mapType":"FLATMAP","pythonCode":"import uuid\n\nlist = input[\"Phone_LIST\"]\ngid = str(uuid.uuid4())[:8]\n\nfor x in range(0, len(list)):\n    record = {}\n    record[\"Lastname\"] = input[\"Lastname\"]\n    record[\"Firstname\"] = input[\"Firstname\"]\n    record[\"Phone\"] = input[\"Phone_LIST\"][x]\n    record[\"Country\"] = input[\"Country_LIST\"][x]\n    record[\"ZipCode\"] = input[\"ZipCode_LIST\"][x]\n    record[\"Loyalty\"] = input[\"Loyalty_LIST\"][x]\n    record[\"Date\"] = input[\"Date_LIST\"][x]\n    record[\"HouseholdDescription\"] = input[\"HouseholdDescription_LIST\"][x]\n    record[\"TDS_GID\"] = gid\n    record[\"TDS_MASTER\"] = \"false\"\n    record[\"IS_DUPLICATE\"] = \"true\" if len(list) > 1 else \"false\"\n    record[\"TDS_SOURCE\"] = \"Support\" if input[\"Loyalty_LIST\"][x] != \"\" else \"CRM\"\n    output.append(record)","$mapType_name":"Flat map"},"$componentMetadata":{"name":"Data Modeling","type":"Python","version":1,"description":"","technicalType":"processing-beam#Processing#Python"}}}},{"id":"60f513a9e6e3e30c78f24710","type":"ZGF0YS1zdGV3YXJkc2hpcCNEYXRhU3Rld2FyZHNoaXAjRFNPdXRwdXQ","graphicalAttributes":{"position":{"x":1640,"y":160},"nodeSize":{"width":160,"height":80},"nodeType":"sink","label":"","description":"","properties":{"icon":"DataStewardship"}},"data":{"properties":{"configuration":{"laxSchema":true,"outputAction":"INSERT","taskAssignee":"No Assignee","taskPriority":"2","$maxBatchSize":50,"$taskAssignee_name":"No Assignee","$taskPriority_name":"2"},"$componentMetadata":{"name":"Customers Deduplication","type":"Data Stewardship Output","version":2,"description":""},"$datasetDefinition":{"datasetId":"7f556aa9-9527-4a41-98fb-a35f67c096bd","datasetPath":"configuration.dataset","datastorePath":"configuration.dataset.datastore"}}}},{"id":"140aac69-e063-4fc3-bd2c-f1d6c4632b5d","type":"create-source","graphicalAttributes":{"position":{"x":520,"y":0},"nodeSize":{"width":160,"height":80},"nodeType":"create-source","label":"","properties":{"icon":"talend-rest"}},"data":{"properties":{"configuration":{},"$componentMetadata":{"name":"CRM Customers","type":"REST input","version":1,"description":""},"$datasetDefinition":{"datasetId":"75a7d95c-8d21-4b18-bbe1-e3306bb05746","datasetPath":"configuration.dataset","datastorePath":"configuration.dataset.datastore"}}}}],"ports":[{"id":"60f51a46f940de2448f7c532","nodeId":"140aac69-e063-4fc3-bd2c-f1d6c4632b5d","graphicalAttributes":{"portType":"port-basic","position":{"x":680,"y":40},"properties":{"type":"OUTGOING","index":0}},"data":{"flowType":"__default__"}},{"id":"60b674b8c6498500940d0f83","nodeId":"555ab821-887a-4594-a4fb-0b1472c25e31","graphicalAttributes":{"portType":"port-basic","position":{"x":1080,"y":40},"properties":{"type":"INCOMING","index":0}},"data":{"flowType":"__default__"}},{"id":"60edda05871346e768da368e","nodeId":"99b2eded-1779-4bcd-bbdf-046b5d25bbca","graphicalAttributes":{"portType":"port-basic","position":{"x":800,"y":40},"properties":{"type":"INCOMING","index":0}},"data":{"flowType":"__default__"}},{"id":"60b683908249aec0c3720c76","nodeId":"ce055965-3e4b-4925-8998-5ada3a094b42","graphicalAttributes":{"portType":"port-basic","position":{"x":1520,"y":60},"properties":{"type":"OUTGOING","index":1}},"data":{"flowType":"reject"}},{"id":"60f506667a6fac2645b3024d","nodeId":"60f506667a6fac2645b3024c","graphicalAttributes":{"portType":"port-placeholder","position":{"x":1640,"y":40},"properties":{"type":"INCOMING","index":0}},"data":{"flowType":"__default__"}},{"id":"60b674b8c6498500940d0f84","nodeId":"555ab821-887a-4594-a4fb-0b1472c25e31","graphicalAttributes":{"portType":"port-basic","position":{"x":1240,"y":40},"properties":{"type":"OUTGOING","index":0}},"data":{"flowType":"__default__"}},{"id":"60b683908249aec0c3720c73","nodeId":"ce055965-3e4b-4925-8998-5ada3a094b42","graphicalAttributes":{"portType":"port-basic","position":{"x":1520,"y":40},"properties":{"type":"OUTGOING","index":0}},"data":{"flowType":"__default__"}},{"id":"60b683908249aec0c3720c72","nodeId":"ce055965-3e4b-4925-8998-5ada3a094b42","graphicalAttributes":{"portType":"port-basic","position":{"x":1360,"y":40},"properties":{"type":"INCOMING","index":0}},"data":{"flowType":"__default__"}},{"id":"60edda05871346e768da368f","nodeId":"99b2eded-1779-4bcd-bbdf-046b5d25bbca","graphicalAttributes":{"portType":"port-basic","position":{"x":960,"y":40},"properties":{"type":"OUTGOING","index":0}},"data":{"flowType":"__default__"}},{"id":"60f51a3af940de2448f7c52d","nodeId":"60f513a9e6e3e30c78f24710","graphicalAttributes":{"portType":"port-basic","position":{"x":1640,"y":200},"properties":{"type":"INCOMING","index":0}},"data":{"flowType":"__default__"}}],"steps":[{"data":{"properties":{}},"id":"60f513a9e6e3e30c78f24712","sourceId":"60b683908249aec0c3720c76","targetId":"60f51a3af940de2448f7c52d","graphicalAttributes":{"linkType":"datastream-link","properties":{}}},{"data":{"properties":{}},"id":"60f50221d069f670d2d9dbd3","sourceId":"60f51a46f940de2448f7c532","targetId":"60edda05871346e768da368e","graphicalAttributes":{"linkType":"datastream-link","properties":{}}},{"data":{"properties":{}},"id":"60f506667a6fac2645b3024e","sourceId":"60b683908249aec0c3720c73","targetId":"60f506667a6fac2645b3024d","graphicalAttributes":{"linkType":"link-placeholder","properties":{}}},{"data":{"properties":{}},"id":"60b683908249aec0c3720c78","sourceId":"60b674b8c6498500940d0f84","targetId":"60b683908249aec0c3720c72","graphicalAttributes":{"linkType":"datastream-link","properties":{}}},{"data":{"properties":{}},"id":"60edda05871346e768da3692","sourceId":"60edda05871346e768da368f","targetId":"60b674b8c6498500940d0f83","graphicalAttributes":{"linkType":"datastream-link","properties":{}}}],"id":"430e29c0-bafb-4160-bd26-a56c38eda12b","runner":"cefb2f42-5caa-4eef-a400-5019cfbc75fe"}],"execProfileId":"5e9c6d7b1f5f73303d97afae","owner":"79f7cab4-d29d-4f20-a19f-030dea53934a","schemaVersion":1,"contextVariables":[],"computeSemanticTypes":true},"schemaVersion":1,"schemaType":"FREE"}